<!DOCTYPE html>
<html lang="el">
    <head>
        <script>
        // Έλεγχος αν ο χρήστης έχει ήδη δει το login
        if (!localStorage.getItem('visitedLogin')) {
        // Αν δεν έχει δει, αποθηκεύουμε ότι τώρα το βλέπει
            localStorage.setItem('visitedLogin', 'true');
        // Ανακατεύθυνση στο login.html
            window.location.href = "login.html";
        }
  // Αν έχει ήδη δει το login, δεν κάνουμε τίποτα (μπορεί να συνεχίσει στο index.html ή form.html)
</script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Αίτηση για Έγκριση Πρακτικής Άσκησης</title>
        <style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f8f9fb;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
}

.main-container {
    width: 90%;
    max-width: 1200px;
    margin: 30px auto;
    padding: 20px;
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);
}
.header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px;
    background-color: #fafafa;
    border-radius: 8px 8px 0 0;
}

h2 {
    text-align: center;
    color: #000000;
    font-size: 2em;
    margin-bottom: 30px;
}

.form-container {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    margin-bottom: 30px;
}

.logout-btn {
    background-color: #7f8c8d;
    color: white;
    padding: 8px 15px;
    border-radius: 4px;
    text-decoration: none;
}

.university-logo {
    height: auto;
}
.university-info {
    margin-left: 50px;
    text-align: right;
}
.university-info p {
    margin: 0;
    font-weight: bold;
}

fieldset {
    border: 2px solid #f4f4f9;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 10px;
    background-color: #fafafa;
    box-sizing: border-box;
    width: 100%;
}

legend {
    font-size: 1.4em;
    color: #ab0606;
    font-weight: bold;
}

label {
    display: block;
    margin: 10px 0 5px;
    color: #333;
    font-weight: 500;
}

input, textarea {
    width: 100%;
    padding: 10px;
    margin: 8px 0 20px;
    border-radius: 8px;
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-size: 1em;
    transition: all 0.3s ease;
}

input[type="text"], input[type="email"], input[type="number"] {
    font-size: 1.1em;
}

input:focus, textarea:focus {
    border-color: #000000;
    outline: none;
}

textarea {
    resize: vertical;
}

button {
    display: block;
    width: 100%;
    padding: 15px;
    margin-top: 40px;
    font-size: 1.2em;
    background-color: #2c3e50;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #1a252f;
}

.student-container, .employer-container {
    width: 48%;
    box-sizing: border-box;
    padding: 0 20px;
}

.file-input-container {
    display: flex;
    justify-content: space-between;
    gap: 20px;
}

.file-input {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.approval-row {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    align-items: center;
}
.signature p{
    margin: 0;
}
.upload-status {
    font-weight: bold;
    color: green;
    margin-left: 10px;
}
.progress-container{
    width: 100%;
    background-color: #f3f3f3;
    border-radius: 5px;
    margin: 10px 0;
    height: 20px;
}
.progress-bar{
    width: 0;
    height: 100%;
    background-color: #4caf50;
    border-radius: 5px;
}
.modal{
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
    padding-top: 60px;
}
.modal-content{
    background-color: #fefefe;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
}
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}
.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}
.attach-link {
    color: #0066cc;
    text-decoration: underline;
    cursor: pointer;
}
.attach-link:hover {
    color: #0044aa;
}
.options-container {
    margin-top: 10px;
    margin-bottom: 20px;
}
.option-title {
    font-weight: bold;
    margin-bottom: 5px;
}

/* Responsive για κινητά */
@media (max-width: 768px) {
    .form-container {
        flex-direction: column;
        gap: 10px;
    }

    .student-container, .employer-container {
        width: 100%;
        padding: 0;
    }

    .header {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        text-align: center;
    }

    .university-info {
        margin-left: 0;
        text-align: center;
    }

    .logout-btn {
        margin-top: 10px;
        padding: 10px 20px;
        font-size: 1.1em;
    }

    h2 {
        font-size: 1.6em;
        margin-bottom: 20px;
    }

    fieldset {
        padding: 15px;
    }

    input, textarea, button {
        font-size: 1.1em;
    }

    button {
        padding: 18px;
    }

    .approval-row {
        flex-direction: column;
        gap: 10px;
    }

    .signature p {
        font-size: 1em;
    }
}

        </style>
    </head>
    <body>
        <div class="main-container">
            <div class="header">
                <img src="unofpel.png" class="university-logo">
                <div class="university-info">
                    <p><strong>ΣΧΟΛΗ ΟΙΚΟΝΟΜΙΑΣ ΚΑΙ ΤΕΧΝΟΛΟΓΙΑΣ</strong></p>
                    <p><strong>ΤΜΗΜΑ ΨΗΦΙΑΚΩΝ ΣΥΣΤΗΜΑΤΩΝ</strong></p>
                </div>
                <a href="login.html" class="logout-btn">Αποσύνδεση</a>
            </div>
            <h2>Αίτηση Έγκρισης Πρακτικής Άσκησης</h2>
            <form id= "application_id" method="POST" action="/submit_form" enctype="multipart/form-data">
                <div class="form-container">
                    <!-- Στοιχεία Φοιτητή-->
                    <div class="student-container">
                        <h3>ΑΙΤΗΣΗ</h3>
                        <fieldset>
                            <legend>Στοιχεία Φοιτητή</legend>
                            <label for="stud_surname">Επώνυμο:</label>
                            <input type="text" id="stud_surname" name="stud_surname" required>

                            <label for="stud_name">Όνομα:</label>
                            <input type="text" id="stud_name" name="stud_name" required>

                            <label for="stud_fname">Όνομα Πατρός:</label>
                            <input type="text" id="stud_fname" name="stud_fname" required>

                            <label for="stud_mname">Όνομα Μητρός:</label>
                            <input type="text" id="stud_mname" name="stud_mname" required>

                            <label for="department">Τμήμα:</label>
                            <input type="text" id="department" name="department" value="Ψηφιακών Συστημάτων" readonly>

                            <label for="sxolh">Σχολή:</label>
                            <input type="text" id="sxolh" name="sxolh" value="Οικονομίας και Τεχνολογίας" readonly>

                            <label for="university">Πανεπιστήμιο:</label>
                            <input type="text" id="university" name="university" value="Πανεπιστήμιο Πελοποννήσου" readonly>

                            <label for="stud_id">Αριθμός Μητρώου:</label>
                            <input type="text" id="stud_id" name="stud_id" required>

                            <label for="stud_afm">ΑΦΜ:</label>
                            <input type="text" id="stud_afm" name="stud_afm" required pattern="\d{9}" title="Ο ΑΦΜ αποτελείται από 9 ψηφία">

                            <label for="stud_sem">Εξάμηνο Σπουδών:</label>
                            <input type="text" id="stud_sem" name="stud_sem" required>

                            <label for="stud_address"><strong>Διεύθυνση:</strong></label>
                            <input type="text" id="stud_address" name="stud_address" required>
                        
                            <label for="stud_city">Πόλη:</label>
                            <input type="text" id="stud_city" name="stud_city" required>
                        
                            <label for="stud_zipcode">Ταχ. Κώδικας:</label>
                            <input type="text" id="stud_zipcode" name="stud_zipcode" required>
                        
                            <label for="stud_tel">Τηλ.:</label>
                            <input type="text" id="stud_tel" name="stud_tel" required pattern="\d{10}" title="Ο αριθμός τηλεφώνου αποτελείται από 10 ψηφία">
                        
                            <label for="stud_email">Email:</label>
                            <input type="email" id="stud_email" name="stud_email" required>

                            <div id="up_dilwsh_text_container" style="display: none;">
                                <label for="up_dilwsh_text">Υπεύθυνη Δήλωση:</label>
                                <textarea name="up_dilwsh_text" id="up_dilwsh_text"></textarea>
                            </div>

                            <div id="vevaiwsi_apodoxis_text_container" style="display: none;">
                                <label for="vevaiwsi_apodoxis_text">Βεβαίωση αποδοχής:</label>
                                <textarea name="vevaiwsi_apodoxis_text" id="vevaiwsi_apodoxis_text"></textarea>
                            </div>

                        <!-- Θέμα Έγκρισης -->
                        <h3>ΘΕΜΑ: Έγκριση Πρακτικής Άσκησης</h3>
                        <p>ΣΠΑΡΤΗ: <input type="text" id="current_date" readonly></p>
                        <p><strong>ΕΠΙΤΡΟΠΗ ΠΡΑΚΤΙΚΗΣ ΑΣΚΗΣΗΣ:</strong></p>
                        <p>Εγκρίνεται η πραγματοποίηση της Π.Α. στη βάση των δεδομένων και των επισυναπτόμενων της αίτησης και ορίζονται:</p>
                        <p>α. Ημερομηνία έναρξης Π.Α.: <input type="text" id="start_date" readonly></p>
                        <p>β. Επόπτης Καθηγητής: <input type="text" id="supervisor" required></p>
                        <div class="approval-row">
                            <div class="signature">
                                <p>Ο Πρόεδρος</p>
                                <p>____________________</p>
                            </div>
                            <div class="signature">
                                <p>Τα μέλη</p>
                                <p>____________________</p>
                            </div>
                        </div>
                        </fieldset> 
                    </div>

                <!-- Στοιχεία Φορέα -->
                <div class="employer-container">
                    <h3>Προς: Επιτροπή Πρακτικής Άσκησης</h3>
                    <p><strong>Παρακαλώ όπως εγκρίνετε την πραγματοποίηση της πρακτικής μου άσκησης στην υπηρεσία / επιχείρηση με τα παρακάτω στοιχεία:</strong></p>
                    <fieldset>
                        <legend>Στοιχεία Φορέα</legend>
                        <label for="emp_name">Όνομα Φορέα</label>
                        <input type="text" id="emp_name" name="emp_name" required>

                        <label for="emp_addr">Διεύθυνση Φορέα</label>
                        <input type="text" id="emp_addr" name="emp_addr" required>

                        <label for="emp_phone">Τηλέφωνο Φορέα</label>
                        <input type="text" id="emp_phone" name="emp_phone" required>

                        <label for="emp_email">Ηλ. Διεύθυνση Φορέα</label>
                        <input type="email" id="emp_email" name="emp_email" required>

                        <label for="emp_sup">Επόπτης Φορέα</label>
                        <input type="text" id="emp_sup" name="emp_sup" required>

                    <!-- Δήλωση Φοιτητή -->
                        <label>Δηλώνω υπεύθυνα ότι:</label>
                        <p>α) δεν επιθυμώ να συμμετάσχω στο χρηματοδοτούμενο μέσω ΕΣΠΑ Πρόγραμμα Π.Α. και</p>
                        <p>β) εντός ενός μηνός από την λήξη της πρακτικής μου άσκησης, οφείλω να καταθέσω στη Γραμματεία του Τμήματος με δική μου ευθύνη Έκθεση Πεπραγμένων, αντίγραφο κατάστασης απόδοσης ενσήμων (από τον Ε.Φ.Κ.Α. πρώην Ι.Κ.Α.) για την πιστοποίηση της ασφάλισης του/της φοιτητή/τριας κατά το διάστημα της πρακτικής άσκησης, καθώς και βεβαίωση περάτωσης της πρακτικής άσκησης από τον Φορέα.</p>
                        <div class="approval-row">
                            <div class="signature">
                                <p><strong>Ο/Η Αιτών/ούσα</strong></p>
                                <p>____________________</p>
                                <p>Υπογραφή</p>
                            </div>
                        </div>

                        <div class="attachments">
                            <p><strong>Συνημμένα:</strong></p>
                            <p>1. Βεβαίωση ότι πληρώ τις προϋποθέσεις έναρξης Πρακτικής Άσκησης ή Αναλυτική Βαθμολογία από τη Γραμματεία του Τμήματος.</p>
                            <label for="anal_vathm" class="upload-file">Ανεβάστε αρχείο PDF:</label>
                            <input type="file" id="anal_vathm" name="anal_vathm" accept=".pdf" onchange="updateFileStatus('anal_vathm')">
                            <span id="status_anal_vathm" style="margin-left: 10px; font-weight: bold; color: red;">❌ Δεν έχει υποβληθεί</span>


                            <p><a href="vevaiwsi_apodoxis.html" class="attach-link" onclick="saveFormData()">2. Βεβαίωση αποδοχής απασχόλησης από το φορέα:</a></p>
                                <label for="vevaiwsi_apodoxis_file" class="upload-file">Ανεβάστε αρχείο PDF:</label>
                                <input type="file" id="vevaiwsi_apodoxis_file" name="vevaiwsi_apodoxis_file" accept=".pdf" onchange="updateFileStatus('vevaiwsi_apodoxis_file')">
                                <span id="status_vevaiwsi_apodoxis_file" style="margin-left: 10px; font-weight: bold; color: red;">❌ Δεν έχει υποβληθεί</span>
                                
                            <p><a href="up_dilwsh.html" class="attach-link" onclick="saveFormData()">3. Υπεύθυνη Δήλωση:</a></p>
                                <label for="up_dilwsh_file" class="upload-file">Ανεβάστε αρχείο PDF:</label>
                                <input type="file" id="up_dilwsh_file" name="up_dilwsh_file" accept=".pdf" onchange="updateFileStatus('up_dilwsh_file')">
                                <span id="status_up_dilwsh_file" style="margin-left: 10px; font-weight: bold; color: red;">❌ Δεν έχει υποβληθεί</span>
                        </div>
                    </fieldset>
                </div>
            </div>
            <button type="button" id="submit_button">Υποβολή Δήλωσης</button>
            </form>
        </div>

      <script>
document.addEventListener('DOMContentLoaded', function() {
    
    // Automatically fill dates
    const currentDateField = document.getElementById("current_date");
    const startDateField = document.getElementById("start_date");

    // Today's date
    const today = new Date();
    const todayFormatted = today.toLocaleDateString("el-GR");
    currentDateField.value = todayFormatted;

    // Start date - one week later
    const nextWeek = new Date();
    nextWeek.setDate(today.getDate() + 7);
    const nextWeekFormatted = nextWeek.toLocaleDateString("el-GR");
    startDateField.value = nextWeekFormatted;
    
    // Load file statuses from localStorage
    updateFileStatusFromStorage();
    
    // Submit button handler
    const submitButton = document.getElementById('submit_button');
    if (submitButton) {
        submitButton.addEventListener('click', function(event) {
            event.preventDefault();
            
            // Συλλογή δεδομένων φόρμας και αποστολή στο backend
            submitFormToBackend();
        });
    }
    
    // Handle messages from popup windows
    setupMessageListener();
});

// Update file status displays based on localStorage
function updateFileStatusFromStorage() {
    const fileStatusMap = {
        'anal_vathm': 'anal_vathm_status',
        'up_dilwsh_file': 'up_dilwsh_file_status',
        'vevaiwsi_apodoxis_file': 'vevaiwsi_apodoxis_file_status'
    };
    
    for (const [fileId, storageKey] of Object.entries(fileStatusMap)) {
        const status = localStorage.getItem(storageKey);
        const statusElement = document.getElementById('status_' + fileId);
        
        if (status === "submitted" && statusElement) {
            statusElement.textContent = "✅ Έχει υποβληθεί";
            statusElement.style.color = "green";
            
            // Hide file input if already submitted
            const fileInput = document.getElementById(fileId);
            const fileLabel = document.querySelector(`label[for='${fileId}']`);
            if (fileInput) fileInput.style.display = "none";
            if (fileLabel) fileLabel.style.display = "none";
        }
    }
}

// Update file status on upload
function updateFileStatus(inputId) {
    const fileInput = document.getElementById(inputId);
    const statusElement = document.getElementById('status_' + inputId);
    
    if (fileInput.files.length > 0) {
        statusElement.textContent = "✅ Έτοιμο για υποβολή";
        statusElement.style.color = "blue";
    } else {
        statusElement.textContent = "❌ Δεν έχει υποβληθεί";
        statusElement.style.color = "red";
    }
}

function saveFormData() {
    const formFields = [
        'stud_surname', 'stud_name', 'stud_fname', 'stud_mname',
        'department', 'sxolh', 'university',
        'stud_id', 'stud_afm', 'stud_sem',
        'stud_address', 'stud_city', 'stud_zipcode', 'stud_tel', 'stud_email',
        'emp_name', 'emp_addr', 'emp_phone', 'emp_email', 'emp_sup',
        'supervisor', 'current_date', 'start_date'
    ];

    const formData = {};
    for (const field of formFields) {
        const element = document.getElementById(field);
        if (element) {
            formData[field] = element.value;
        }
    }

    localStorage.setItem('aitisi_form_data', JSON.stringify(formData));
}

const savedData = localStorage.getItem('aitisi_form_data');
if (savedData) {
    const formData = JSON.parse(savedData);
    for (const key in formData) {
        const input = document.getElementById(key);
        if (input) {
            input.value = formData[key];
        }
    }
}



// Check if all required attachments are included
function validateAttachments() {
    // Check for analytic grade report (required)
    const analVathmFile = document.getElementById('anal_vathm').files.length > 0;
    const analVathmStatus = localStorage.getItem('anal_vathm_status') === 'submitted';
    
    if (!analVathmFile && !analVathmStatus) {
        alert('Παρακαλώ ανεβάστε την Αναλυτική Βαθμολογία σας!');
        return false;
    }
    
    // Check for responsible declaration
    if (!isUpDilwshCompleted()) {
        alert('Παρακαλώ συμπληρώστε την Υπεύθυνη Δήλωση με έναν από τους διαθέσιμους τρόπους!');
        return false;
    }
    
    // Check for acceptance certificate
    if (!isVevaiwsiApodoxisCompleted()) {
        alert('Παρακαλώ συμπληρώστε τη Βεβαίωση Αποδοχής με έναν από τους διαθέσιμους τρόπους!');
        return false;
    }
    
    return true;
}

// Check if responsible declaration is complete
function isUpDilwshCompleted() {
    const upDilwshFile = document.getElementById('up_dilwsh_file').files.length > 0;
    const upDilwshText = document.getElementById('up_dilwsh_text') && 
                         document.getElementById('up_dilwsh_text').value.trim() !== '';
    const upDilwshStatus = localStorage.getItem('up_dilwsh_online_status') === 'completed' ||
                          localStorage.getItem('up_dilwsh_file_status') === 'submitted';
    
    return upDilwshFile || upDilwshText || upDilwshStatus;
}

// Check if acceptance certificate is complete
function isVevaiwsiApodoxisCompleted() {
    const vevaiwsiFile = document.getElementById('vevaiwsi_apodoxis_file').files.length > 0;
    const vevaiwsiText = document.getElementById('vevaiwsi_apodoxis_text') && 
                        document.getElementById('vevaiwsi_apodoxis_text').value.trim() !== '';
    const vevaiwsiStatus = localStorage.getItem('vevaiwsi_apodoxis_online_status') === 'completed' ||
                          localStorage.getItem('vevaiwsi_apodoxis_file_status') === 'submitted';
    
    return vevaiwsiFile || vevaiwsiText || vevaiwsiStatus;
}

// Συλλογή δεδομένων φόρμας και αποστολή στο backend
function submitFormToBackend() {
    // Έλεγχος για υποχρεωτικά πεδία
    const requiredFields = [
        'stud_surname', 'stud_name', 'stud_fname', 'stud_mname', 
        'stud_id', 'stud_afm', 'stud_sem', 'stud_address', 
        'stud_city', 'stud_zipcode', 'stud_tel', 'stud_email',
        'emp_name', 'emp_addr', 'emp_phone', 'emp_email', 'emp_sup'
    ];
    
    for (const field of requiredFields) {
        const element = document.getElementById(field);
        if (element && !element.value.trim()) {
            alert(`Παρακαλώ συμπληρώστε το πεδίο: ${element.previousElementSibling.textContent.replace(':', '')}`);
            element.focus();
            return;
        }
    }

    
    // Δημιουργία FormData αντικειμένου για αποστολή δεδομένων και αρχείων
    const formData = new FormData();
    
    // Προσθήκη όλων των πεδίων της φόρμας
    for (const field of requiredFields) {
        const element = document.getElementById(field);
        if (element) {
            formData.append(field, element.value.trim());
        }
    }
    
    // Προσθήκη επιπλέον πεδίων
    formData.append('department', document.getElementById('department').value);
    formData.append('sxolh', document.getElementById('sxolh').value);
    formData.append('university', document.getElementById('university').value);
    formData.append('supervisor', document.getElementById('supervisor').value);
    formData.append('current_date', document.getElementById('current_date').value);
    formData.append('start_date', document.getElementById('start_date').value);
    
    // Προσθήκη HTML περιεχομένου από τα textarea (αν υπάρχουν)
    const upDilwshText = document.getElementById('up_dilwsh_text');
    if (upDilwshText) {
        formData.append('up_dilwsh_html', upDilwshText.value);
    }
    
    const vevaiwsiText = document.getElementById('vevaiwsi_apodoxis_text');
    if (vevaiwsiText) {
        formData.append('vevaiwsi_apodoxis_html', vevaiwsiText.value);
    }
    
    // Προσθήκη αρχείων
    const analVathmFile = document.getElementById('anal_vathm').files[0];
    if (analVathmFile) {
        formData.append('anal_vathm', analVathmFile);
    }
    
    const upDilwshFile = document.getElementById('up_dilwsh_file').files[0];
    if (upDilwshFile) {
        formData.append('up_dilwsh_file', upDilwshFile);
    }
    
    const vevaiwsiFile = document.getElementById('vevaiwsi_apodoxis_file').files[0];
    if (vevaiwsiFile) {
        formData.append('vevaiwsi_apodoxis_file', vevaiwsiFile);
    }
}
    
document.getElementById("submit_button").addEventListener("click", function(event) {
  event.preventDefault();

  const form = document.getElementById("application_id");
  const formData = new FormData(form);
  const data = {};

  for (const [key, value] of formData.entries()) {
    data[key] = value;
  }

  localStorage.setItem("aitisi_form_data", JSON.stringify(data));

  // ✅ Μήνυμα επιτυχίας
  alert("✅ Η αίτηση αποθηκεύτηκε επιτυχώς!");

  // ⏩ Ανακατεύθυνση
  window.location.href = "student.html";
});



// Set up message listener for popup windows
function setupMessageListener() {
    window.addEventListener('message', function(event) {
        if (event.data.type === 'formCompleted') {
            if (event.data.formName === 'up_dilwsh') {
                localStorage.setItem('up_dilwsh_online_status', 'completed');
                localStorage.setItem('up_dilwsh_file_status', 'submitted');

                // Save form data if available
                if (event.data.formData) {
                    localStorage.setItem('up_dilwsh_data', JSON.stringify(event.data.formData));
                }

                // Update UI
                const statusElement = document.getElementById('status_up_dilwsh_file');
                if(statusElement) {
                    statusElement.textContent = "✅ Έχει υποβληθεί";
                    statusElement.style.color = "green";
                }
                
                // Hide file input
                const fileInput = document.getElementById('up_dilwsh_file');
                const fileLabel = document.querySelector("label[for='up_dilwsh_file']");
                if(fileInput) fileInput.style.display = "none";
                if(fileLabel) fileLabel.style.display = "none";
                
            }
            
            if (event.data.formName === 'vevaiwsi_apodoxis') {
                localStorage.setItem('vevaiwsi_apodoxis_online_status', 'completed');
                localStorage.setItem('vevaiwsi_apodoxis_file_status', 'submitted');

                // Update UI
                const statusElement = document.getElementById('status_vevaiwsi_apodoxis_file');
                if(statusElement) {
                    statusElement.textContent = "✅ Έχει υποβληθεί";
                    statusElement.style.color = "green";
                }
                
                // Hide file input
                const fileInput = document.getElementById('vevaiwsi_apodoxis_file');
                const fileLabel = document.querySelector("label[for='vevaiwsi_apodoxis_file']");
                if(fileInput) fileInput.style.display = "none";
                if(fileLabel) fileLabel.style.display = "none";
            } 
        }
    });

}
        </script>
    </body>
</html>